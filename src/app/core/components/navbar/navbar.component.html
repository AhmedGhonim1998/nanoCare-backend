<nav class="fixed top-0 left-0 right-0 z-50 transition-all duration-500 ease-out"
     [class]="isScrolled ? 'bg-white/95 backdrop-blur-xl shadow-lg' : 'bg-white/80 backdrop-blur-md'">
  
  <!-- Top Announcement Bar -->
  <div class="bg-gradient-to-r from-blue-600 via-blue-500 to-cyan-500 text-white py-2.5 px-4">
    <div class="max-w-7xl mx-auto flex justify-center items-center gap-3">
      <svg class="w-4 h-4 animate-pulse" fill="currentColor" viewBox="0 0 20 20">
        <path fill-rule="evenodd" d="M5.05 3.636a1 1 0 010 1.414 7 7 0 000 9.9 1 1 0 11-1.414 1.414 9 9 0 010-12.728 1 1 0 011.414 0zm9.9 0a1 1 0 011.414 0 9 9 0 010 12.728 1 1 0 11-1.414-1.414 7 7 0 000-9.9 1 1 0 010-1.414zM7.879 6.464a1 1 0 010 1.414 3 3 0 000 4.243 1 1 0 11-1.414 1.414 5 5 0 010-7.07 1 1 0 011.414 0zm4.242 0a1 1 0 011.414 0 5 5 0 010 7.07 1 1 0 01-1.414-1.414 3 3 0 000-4.243 1 1 0 010-1.414zM10 9a1 1 0 011 1v.01a1 1 0 11-2 0V10a1 1 0 011-1z" clip-rule="evenodd"/>
      </svg>
      <span class="text-xs font-semibold tracking-wide animate-fade-in">ðŸšš Free Shipping on Orders Over 1,000 EGP â€¢ âš¡ Same Day Delivery in Cairo</span>
    </div>
  </div>

  <!-- Main Navigation -->
  <div class="max-w-8xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-20 lg:h-24">
      
      <!-- Logo -->
      <a routerLink="/" class="flex items-center gap-3 group relative">
  <div class="relative py-2"> <img src="images/nano_care-removebg-preview.png" 
         alt="NanoCare" 
         class="h-28 md:h-36 w-auto object-contain transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 drop-shadow-md">
    
    <div class="absolute inset-0 bg-gradient-to-r from-blue-400/30 to-cyan-400/30 rounded-full blur-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-500 -z-10"></div>
  </div>
</a>

      <!-- Desktop Navigation -->
      <div class="hidden lg:flex items-center space-x-1">
        <a routerLink="/" routerLinkActive="text-blue-600" [routerLinkActiveOptions]="{exact: true}"
           class="relative px-6 py-3 rounded-xl text-sm font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-300 group">
          <span class="relative z-10">Home</span>
          <div class="absolute inset-0 bg-gradient-to-r from-blue-50/0 to-blue-50/0 group-hover:from-blue-50/100 group-hover:to-cyan-50/100 rounded-xl transition-all duration-300"></div>
          <div *ngIf="isActiveRoute('/')" class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-600 rounded-full"></div>
        </a>
        
        <a routerLink="/products" routerLinkActive="text-blue-600"
           class="relative px-6 py-3 rounded-xl text-sm font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-300 group">
          <span class="relative z-10">Products</span>
          <div class="absolute inset-0 bg-gradient-to-r from-blue-50/0 to-blue-50/0 group-hover:from-blue-50/100 group-hover:to-cyan-50/100 rounded-xl transition-all duration-300"></div>
          <div *ngIf="isActiveRoute('/products')" class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-600 rounded-full"></div>
        </a>
        
        <a routerLink="/about" routerLinkActive="text-blue-600"
           class="relative px-6 py-3 rounded-xl text-sm font-semibold text-gray-700 hover:text-blue-600 transition-colors duration-300 group">
          <span class="relative z-10">About Us</span>
          <div class="absolute inset-0 bg-gradient-to-r from-blue-50/0 to-blue-50/0 group-hover:from-blue-50/100 group-hover:to-cyan-50/100 rounded-xl transition-all duration-300"></div>
          <div *ngIf="isActiveRoute('/about')" class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-blue-600 rounded-full"></div>
        </a>
        
        <a routerLink="/contact" 
   routerLinkActive="active-link" 
   class="relative px-6 py-3 rounded-xl text-sm font-semibold text-gray-700 hover:text-blue-600 transition-all duration-300 group overflow-hidden">
  
  <span class="relative z-10">Contact</span>

  <div class="absolute inset-0 bg-gradient-to-r from-blue-50 to-cyan-50 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-0"></div>

  <div class="active-dot absolute bottom-1 left-1/2 transform -translate-x-1/2 w-1.5 h-1.5 bg-blue-600 rounded-full opacity-0 transition-all duration-300"></div>
</a>
      </div>

      <!-- Right Side Actions -->
      <div class="flex items-center gap-4">
        <!-- Search -->
        <div class="hidden lg:block relative">
          <div class="relative">
            <input type="text" placeholder="Search products..." 
                   class="pl-12 pr-4 py-3 w-64 rounded-2xl bg-gray-100/80 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white transition-all duration-300"
                   [class.w-72]="isSearchFocused">
            <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
            </svg>
          </div>
        </div>

        <!-- User Account -->
        <button class="hidden lg:flex items-center gap-2 px-4 py-3 rounded-2xl bg-gray-100/80 hover:bg-blue-50 transition-all duration-300 group">
          <svg class="w-5 h-5 text-gray-600 group-hover:text-blue-600 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
          </svg>
          <span class="text-sm font-medium text-gray-700 group-hover:text-blue-600 transition-colors">Account</span>
        </button>

        <!-- Cart -->
        <button routerLink="/cart" class="relative p-3.5 bg-gradient-to-br from-gray-50 to-white rounded-2xl hover:from-blue-50 hover:to-cyan-50 transition-all duration-300 shadow-sm hover:shadow-md group">
          <svg class="w-6 h-6 text-gray-700 group-hover:text-blue-600 transition-colors duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
          </svg>
          <span *ngIf="cartItemCount > 0" class="absolute -top-2 -right-2 bg-gradient-to-r from-blue-600 to-cyan-500 text-white text-xs font-bold px-2 py-1 rounded-full shadow-lg">
            {{ cartItemCount }}
          </span>
          <div class="absolute -top-1 -right-1 w-5 h-5 bg-blue-400/20 rounded-full animate-ping opacity-0 group-hover:opacity-100"></div>
        </button>

        <!-- Mobile Menu Button -->
        <button (click)="toggleMenu()" class="menu-button lg:hidden p-3.5 bg-gradient-to-br from-gray-50 to-white rounded-2xl shadow-sm" aria-label="Toggle menu">
          <div class="relative w-7 h-6">
            <span class="absolute h-0.5 w-7 bg-gradient-to-r from-gray-800 to-gray-600 transition-all duration-300 rounded-full" 
                  [ngClass]="isMenuOpen ? 'rotate-45 top-3' : 'top-0.5'"></span>
            <span class="absolute h-0.5 w-7 bg-gradient-to-r from-gray-800 to-gray-600 top-3 transition-all duration-300 rounded-full" 
                  [ngClass]="isMenuOpen ? 'opacity-0 translate-x-4' : 'opacity-100'"></span>
            <span class="absolute h-0.5 w-7 bg-gradient-to-r from-gray-800 to-gray-600 transition-all duration-300 rounded-full" 
                  [ngClass]="isMenuOpen ? '-rotate-45 top-3' : 'top-5.5'"></span>
          </div>
        </button>
      </div>
    </div>
  </div>
</nav>

<!-- Backdrop Overlay -->
<div *ngIf="isMenuOpen" 
     class="fixed inset-0 z-[60] bg-gradient-to-br from-black/40 to-black/20 backdrop-blur-sm transition-opacity duration-500 ease-out lg:hidden"
     [ngClass]="isMenuOpen ? 'opacity-100' : 'opacity-0'"
     (click)="closeMenu()">
</div>

<!-- Mobile Menu -->
<div class="mobile-menu-container fixed top-0 right-0 h-screen w-[320px] max-w-[85vw] bg-gradient-to-br from-white via-gray-50 to-white z-[70] shadow-2xl lg:hidden transition-all duration-500 ease-out transform"
     [ngClass]="isMenuOpen ? 'translate-x-0 opacity-100' : 'translate-x-full opacity-0'">
  <div class="flex flex-col h-full relative overflow-hidden">
    <!-- Background Pattern -->
    <div class="absolute inset-0 opacity-5">
      <div class="absolute inset-0" style="background-image: radial-gradient(#3b82f6 1px, transparent 1px); background-size: 20px 20px;"></div>
    </div>

    <!-- Menu Header -->
    <div class="relative p-6 border-b border-gray-200/60 flex justify-between items-center bg-white/80 backdrop-blur-sm">
      <div class="flex items-center gap-3">
        <div class="p-2 bg-gradient-to-r from-blue-50 to-cyan-50 rounded-xl">
          <svg class="w-6 h-6 text-blue-600" fill="currentColor" viewBox="0 0 20 20">
            <path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"/>
          </svg>
        </div>
        <span class="text-xl font-black bg-gradient-to-r from-blue-600 to-cyan-500 bg-clip-text text-transparent">Menu</span>
      </div>
      <button (click)="closeMenu()" class="p-2.5 bg-gray-100 hover:bg-red-50 rounded-xl transition-all duration-300 group">
        <svg class="w-5 h-5 text-gray-500 group-hover:text-red-500 transition-colors" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>
    </div>

    <!-- Search Mobile -->
    <div class="relative p-4 bg-white/80">
      <div class="relative">
        <input type="text" placeholder="Search products..." 
               class="w-full pl-12 pr-4 py-3.5 rounded-2xl bg-gray-100 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:bg-white transition-all duration-300">
        <svg class="absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
        </svg>
      </div>
    </div>

    <!-- Menu Items -->
    <div class="flex-1 overflow-y-auto p-4 space-y-1 relative">
      <a routerLink="/" (click)="closeMenu()" 
         class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
        <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/>
          </svg>
        </div>
        <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">Home</span>
      </a>
      
      <a routerLink="/products" (click)="closeMenu()"
         class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
        <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/>
          </svg>
        </div>
        <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">Products</span>
      </a>
      
      <a routerLink="/about" (click)="closeMenu()"
         class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
        <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h1m0 0h-1m1 0v4m-5-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
          </svg>
        </div>
        <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">About Us</span>
      </a>
      
      <a routerLink="/contact" (click)="closeMenu()"
         class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
        <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
          <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"/>
          </svg>
        </div>
        <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">Contact</span>
      </a>

      <!-- Additional Mobile Items -->
      <div class="mt-6 pt-6 border-t border-gray-200/60 space-y-1">
        <a routerLink="/account" (click)="closeMenu()"
           class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
          <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
            </svg>
          </div>
          <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">My Account</span>
        </a>
        
        <a routerLink="/orders" (click)="closeMenu()"
           class="flex items-center gap-4 p-4 rounded-2xl hover:bg-gradient-to-r hover:from-blue-50/80 hover:to-cyan-50/80 transition-all duration-300 group">
          <div class="p-2.5 bg-blue-50 rounded-xl group-hover:bg-blue-100 transition-colors duration-300">
            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"/>
            </svg>
          </div>
          <span class="font-bold text-gray-800 group-hover:text-blue-600 transition-colors">My Orders</span>
        </a>
      </div>
    </div>

    <!-- Footer CTA -->
    <div class="p-6 border-t border-gray-200/60 bg-white/80 backdrop-blur-sm">
      <button routerLink="/products" (click)="closeMenu()" 
              class="w-full py-4 bg-gradient-to-r from-blue-600 to-cyan-500 text-white rounded-2xl font-bold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-[1.02] active:scale-[0.98] transition-all duration-300">
        Start Shopping Now
      </button>
      <p class="text-xs text-gray-500 text-center mt-3">
        Free shipping â€¢ 30-day returns â€¢ 24/7 support
      </p>
    </div>
  </div>
</div>